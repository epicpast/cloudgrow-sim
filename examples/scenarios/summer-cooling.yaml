# Summer Cooling Stress Test Scenario
# Hot weather conditions to test cooling system performance
#
# Matches: create_summer_cooling_scenario() in scenarios.py
# Use case: Testing cooling capacity under extreme heat (Phoenix, AZ climate)

name: "Summer Cooling Scenario"
time_step: 60.0  # seconds
duration: 172800.0  # 48 hours

start_time: "2025-07-15T06:00:00Z"

location:
  # Phoenix, Arizona - hot desert climate
  latitude: 33.4
  longitude: -112.0
  elevation: 350.0
  timezone: "America/Phoenix"

geometry:
  type: quonset
  length: 25.0
  width: 9.0
  height_ridge: 4.5
  height_eave: 2.0
  orientation: 0.0

covering:
  material: double_polyethylene

components:
  sensors:
    # Interior combined temp/humidity
    - type: temp_humidity
      name: dht_int
      location: interior
      temp_noise_std_dev: 0.2
      humidity_noise_std_dev: 2.0

    # Solar radiation for monitoring heat load
    - type: solar_radiation
      name: pyranometer
      location: exterior

  actuators:
    # 4 high-capacity exhaust fans for staged cooling
    - type: exhaust_fan
      name: exhaust_1
      max_flow_rate: 3.0
      power_consumption: 1000.0

    - type: exhaust_fan
      name: exhaust_2
      max_flow_rate: 3.0
      power_consumption: 1000.0

    - type: exhaust_fan
      name: exhaust_3
      max_flow_rate: 3.0
      power_consumption: 1000.0

    - type: exhaust_fan
      name: exhaust_4
      max_flow_rate: 3.0
      power_consumption: 1000.0

    # Large evaporative cooling pad
    - type: evaporative_pad
      name: evap_pad
      controller: evap_control
      pad_area: 12.0
      saturation_efficiency: 0.85

  controllers:
    # 4-stage fan control for progressive cooling
    - type: staged
      name: fan_staging
      process_variable: dht_int.temperature
      stages:
        - [28.0, 0.25]  # 1 fan at 28C
        - [30.0, 0.50]  # 2 fans at 30C
        - [32.0, 0.75]  # 3 fans at 32C
        - [34.0, 1.0]   # 4 fans at 34C
      hysteresis: 1.0

    # Evaporative pad control
    - type: hysteresis
      name: evap_control
      process_variable: dht_int.temperature
      setpoint: 30.0
      hysteresis: 2.0
      reverse_acting: true

  modifiers: []

weather:
  source: synthetic
  # Hot summer conditions
  base_temperature: 38.0
  temperature_amplitude: 12.0
